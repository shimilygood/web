!function(t,e,n){function i(t){var e=[];if(r)for(var n=t.getElementsByTagName("*"),i=0;i<n.length;i++)"static"!=n[i].currentStyle.position&&e.push([n[i],n[i].currentStyle.filter||null]);return e}function a(t,e){for(var n=0;n<t.length;n++)t[n][0].style.filter="alpha(opacity= "+100*e+")"}function o(t,e){e&&r&&t.unshift([e,e.currentStyle.filter||null]);for(var n=0;n<t.length;n++)t[n][1]&&!/alpha\(opacity=\d+\)/.test(t[n][1])||(t[n][0].style.filter="none")}Function.prototype.bind=Function.prototype.bind||function(){var t=this,e=[].shift.call(arguments),n=[].slice.call(arguments);return function(){return t.apply(e,[].concat.call(n,[].slice.call(arguments)))}},e.extend(e.easing,{easeInCubic:function(t,e,n,i,a){return i*(e/=a)*e*e+n},easeOutCubic:function(t,e,n,i,a){return i*((e=e/a-1)*e*e+1)+n}});var r=!t.getComputedStyle,s={"slide-left":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.5*t.offsetWidth}),setTimeout(function(){c.animate({opacity:1,marginLeft:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-right":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.5*-t.offsetWidth}),setTimeout(function(){c.animate({opacity:1,marginLeft:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-down-l":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.3*-t.offsetWidth,marginTop:.8*-t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginLeft:0,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-down-r":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.15*t.offsetWidth,marginTop:.8*-t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginLeft:0,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-up-l":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.5*-t.offsetWidth,marginTop:.5*t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginLeft:0,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-up-r":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginLeft:.5*t.offsetWidth,marginTop:.5*t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginLeft:0,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-up":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginTop:.5*t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"slide-down":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0,marginTop:.5*-t.offsetHeight}),setTimeout(function(){c.animate({opacity:1,marginTop:0},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)},"fade-in":function(t,n,r,s){var c=e(t),p=i(t);a(p,0),c.css({opacity:0}),setTimeout(function(){c.animate({opacity:1},{duration:r,easing:"easeOutCubic",complete:function(){o(p,this),s&&s.apply(this,arguments)},step:function(t,e){"opacity"==e.prop&&a(p,e.now)}})},n)}},c=function(){var t=/MSIE (\d+\.\d+)/.exec(navigator.userAgent);return!t||t[1]>9}(),p=function(t,n){function i(){var n=e(this);n.trigger.apply(n,["animatedone"].concat([].slice.call(arguments))),l&&e(l).each(function(){p(this,!0)}),t.removeEventListener("webkitAnimationEnd",i,!1),t.removeEventListener("animationend",i,!1)}var a=t.getAttribute("data-anim"),o=1e3*Number(t.getAttribute("data-delay")||0),r=1e3*Number(t.getAttribute("data-delay-adjust")||0),l=t.getAttribute("data-chain"),u=parseInt(t.getAttribute("data-duration"));o=n?o:0,o+=r,c?(t.className=[t.className,a].join(" "),t.style["-webkit-animation-delay"]=o+"ms",t.style.animationDelay=o+"ms",u&&(t.style["-webkit-animation-duration"]=u+"ms",t.style.animationDuration=u+"ms"),t.addEventListener("webkitAnimationEnd",i,!1),t.addEventListener("animationend",i,!1)):(u=u||1e3,(s[a]||s["fade-in"]).call(t,t,o,u,function(){var t=e(this);t.trigger.apply(t,["animatedone"].concat([].slice.call(arguments))),l&&e(l).each(function(){p(this,!0)})}))},l=function(t){e(t).find("[data-anim]").each(function(){p(this)})},u=function(n){var i=e(t),a=i.height(),o=e(n).find("[data-anim]"),r=[];o.each(function(){r.push({$elem:e(this),anim:this.getAttribute("data-anim"),scrollTop:e(this).offset().top,checkOffset:Number(this.getAttribute("data-offset")),isAnimated:!1})}),i.on("scroll",function(){var t=i.scrollTop(),n=document.documentElement.clientHeight;e.each(r,function(e,i){if(!i.isAnimated){if(i.$elem[0].getAttribute("data-ignore"))return void(i.isAnimated=!0);t+n-i.checkOffset>i.scrollTop&&(p(i.$elem[0],i.scrollTop+i.checkOffset<a),i.isAnimated=!0)}})}).trigger("scroll")},g=function(t){var n=navigator.appVersion.split("MSIE"),i=parseFloat(n[1]);if(i&&i>=5.5&&i<9&&document.body.filters)for(var a=0,o=t.getElementsByTagName("img"),r=0;r<o.length;r++){var s=o[r],c=s.src.toUpperCase();if("PNG"==c.substring(c.length-3,c.length)&&!s.getAttribute("usemap")){a++;var p=s.id||"ra_png_"+a.toString(),l=new Image;l.proData=p,l.onload=function(){e("#"+this.proData).css("width",this.width+"px").css("height",this.height+"px")},l.src=s.src;var u="id='"+p+"' ",g=s.className?"class='"+s.className+"' ":"",f=s.title?"title='"+s.title+"' ":"title='"+s.alt+"' ",m="display:inline-block;"+s.style.cssText;"left"==s.align&&(m="float:left;"+m),"right"==s.align&&(m="float:right;"+m),s.parentElement.href&&(m="cursor:hand;"+m);var d="<span "+u+g+f+' style="width:'+s.width+"px; height:"+s.height+"px;"+m+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+s.src+"', sizingMethod='scale');\"></span>";s.outerHTML=d,r-=1}}};e.extend(t,{isSupportCss3:c,setAnimate:p,setAllAnimate:l,bindScroll:u,correctPNG:g})}(window,jQuery);var resData={groups:[{keys:"r-clod2_png,s-cake1_png,s-cake2_png,s-cake3_png,s-cake4_png,title_png,word1_png,word2_png,word3_png,zuan1_png,zuan2_png,across_png,cake_png,girl-b-6_png,girl-d-4_png,line1_jpg,line2_jpg,r-clod1_png,girl-a_png,girl-c_png",name:"preload"}],resources:[{name:"r-clod2_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/r-clod2.png"},{name:"s-cake1_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/s-cake1.png"},{name:"s-cake2_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/s-cake2.png"},{name:"s-cake3_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/s-cake3.png"},{name:"s-cake4_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/s-cake4.png"},{name:"title_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/title.png"},{name:"word1_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/word1.png"},{name:"word2_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/word2.png"},{name:"word3_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/word3.png"},{name:"zuan1_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/zuan1.png"},{name:"zuan2_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/zuan2.png"},{name:"across_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/across.png"},{name:"cake_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/cake.png"},{name:"girl-a_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/girl-a.png"},{name:"girl-b-6_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/girl-b-6.png"},{name:"girl-c_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/girl-c.png"},{name:"girl-d-4_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/girl-d-4.png"},{name:"line1_jpg",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/line1.jpg"},{name:"line2_jpg",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/line2.jpg"},{name:"r-clod1_png",type:"image",url:"http://edm.mcake.com/fangli/2017/bd-buyActivity/images/r-clod1.png"}]};Resource.setAsset({"girl-a_json":{"girl-a-1":{x:1,y:143,w:159,h:140,offX:3,offY:2,sourceW:169,sourceH:145,duration:10},"girl-a-2":{x:167,y:1,w:158,h:139,offX:4,offY:3,sourceW:169,sourceH:145,duration:2},"girl-a-3":{x:1,y:1,w:164,h:140,offX:3,offY:2,sourceW:169,sourceH:145,duration:2},"girl-a-4":{x:1,y:285,w:140,h:142,offX:0,offY:0,sourceW:169,sourceH:145,duration:100}},"girl-c_json":{"girl-c-1":{x:1,y:1,w:128,h:245,offX:1,offY:3,sourceW:130,sourceH:249,duration:10},"girl-c-2":{x:131,y:1,w:100,h:234,offX:28,offY:14,sourceW:130,sourceH:249,duration:100}}}),function(t){var e={girl_a:function(){var t=new MovieClip("girl-a_png","girl-a_json","el_girl-a");return t.gotoAndPlay(1,-1),t},girl_c:function(){var t=new MovieClip("girl-c_png","girl-c_json","el_girl-c");return t.gotoAndPlay(1,-1),t}},n=function(){e.girl_a(),e.girl_c()},i=function(){function e(e){var i=new Resource.loadGroup("preload",e),a=Resource.el("#evt_spin");i.on("progress",function(t,e){a.innerHTML="loading: "+Math.floor(t/e*100)+"%"}),i.on("complete",function(){Resource.el("#evt_loading").style.display="none",Resource.el("#evt_container").style.display="block",correctPNG(t("#evt_container").get(0)),bindScroll("#evt_container"),n()})}if("object"==typeof resData&&Array.isArray(resData.resources)&&resData.resources.length>0)e(resData);else{var i=new Resource.JSONloader("res.json");i.on("success",function(t){e(t)}),i.on("error",function(){console.error("资源配置加载失败...")})}};t(function(){i()})}(jQuery);